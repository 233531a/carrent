/* =========================================================
   CarRent — High-Tech Neon Glass UI (Inter) + эффекты
   ========================================================= */

:root{
    /* DARK palette */
    --bg:#0b0f17; --bg-2:#0e1420;
    --surface:#101725; --surface-2:#0f1624;
    --line:1px solid rgba(255,255,255,.10);

    --text:#eaf0ff; --text-2:#a6b2c9;
    --c-cyan:#49b3ff; --c-violet:#8f7fff; --c-mint:#3ed0b2;
    --danger:#ff6a7e;

    --r-xl:28px; --r-lg:22px; --r-md:14px; --r-sm:10px;
    --ring:0 0 0 3px rgba(73,179,255,.32);
    --tr-f:.18s ease; --tr-m:.26s cubic-bezier(.2,.7,.2,1);

    /* Controls + buttons */
    --ctrl-bg:linear-gradient(180deg, rgba(23,31,51,.92), rgba(15,22,36,.92));
    --ctrl-br:1px solid rgba(255,255,255,.14);
    --btn-h:40px; --btn-r:12px; --btn-fs:15px; --btn-fw:600;

    color-scheme: dark;
}

/* -------- Base -------- */
*{ box-sizing:border-box; }
html,body{
    margin:0; padding:0;
    background:
            radial-gradient(1200px 560px at 12% -20%, rgba(143,127,255,.12), transparent 60%),
            radial-gradient(1200px 560px at 88% -10%, rgba(73,179,255,.12), transparent 60%),
            linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
    color:var(--text);
    font:16px/1.55 "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
.container{ width:min(1200px,92vw); margin:0 auto }
a{ color:var(--c-cyan); text-decoration:none }
a:hover{ color:#d3e6ff }
.text-muted{ color:var(--text-2) }

/* -------- Header / Nav -------- */
.site-header{
    position:sticky; top:0; z-index:50;
    backdrop-filter:saturate(115%) blur(12px);
    background:linear-gradient(180deg, rgba(9,12,19,.55), rgba(9,12,19,.25));
    border-bottom:var(--line);
}
.header__inner{ display:flex; align-items:center; gap:18px; padding:14px 0 }
.logo{ font-weight:800; letter-spacing:.3px; font-size:22px; color:#fff }

.nav{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.nav > a, .nav__dropdown > summary{
    color:var(--text-2);
    padding:10px 12px; border-radius:var(--r-sm);
    display:inline-flex; align-items:center; gap:8px;
    transition: background var(--tr-f), color var(--tr-f), transform .06s ease;
}
.nav > a:hover, .nav__dropdown > summary:hover{ color:#fff; background:rgba(255,255,255,.05) }
.nav > a.is-active{ color:#fff; background:rgba(255,255,255,.07) }

.nav__dropdown{ position:relative }
.nav__dropdown > summary{ list-style:none; cursor:pointer }
.nav__dropdown > summary::-webkit-details-marker{ display:none }
.nav__dropdown > summary::after{ content:"▾"; opacity:.85; font-size:.9em }

.dropdown__menu{
    position:absolute; top:110%; left:0; min-width:230px; padding:10px;
    background:linear-gradient(180deg, rgba(15,22,36,.58), rgba(15,22,36,.48));
    border:1px solid rgba(255,255,255,.14);
    border-radius:14px; box-shadow:0 26px 70px rgba(0,0,0,.35);
    backdrop-filter: blur(16px) saturate(120%);
    opacity:0; transform: translateY(-6px); pointer-events:none;
    transition:opacity var(--tr-f), transform var(--tr-f);
    z-index:1000;
}
.nav__dropdown[open] .dropdown__menu{ opacity:1; transform: translateY(0); pointer-events:auto }
.dropdown__menu a{ display:block; padding:10px 12px; border-radius:10px; color:var(--text) }
.dropdown__menu a:hover{ background:rgba(255,255,255,.06) }

.header-actions{ margin-left:auto; display:flex; align-items:center; gap:14px; flex-wrap:wrap }
.btn-nav{
    all:unset; display:inline-flex; align-items:center; gap:8px;
    color:var(--text-2); cursor:pointer; padding:6px 2px; border-radius:8px; font-weight:600;
    position:relative; transition: color var(--tr-f), transform .06s ease;
}
.btn-nav::after{ content:""; position:absolute; left:0; right:0; bottom:-2px; height:1px;
    background:currentColor; transform:scaleX(0); transform-origin:center; transition:transform var(--tr-f) }
.btn-nav:hover{ color:#fff } .btn-nav:hover::after{ transform:scaleX(1) }
.btn-nav:active{ transform:translateY(1px) }
.btn-nav--danger{ color:var(--danger) }

/* -------- Main / Footer -------- */
.site-main{ padding:34px 0 60px }
.site-footer{
    border-top:var(--line);
    padding:22px 0; background:linear-gradient(180deg, rgba(9,12,19,.25), rgba(9,12,19,.45));
    backdrop-filter:saturate(115%) blur(10px);
}
.footer__inner{ display:flex; align-items:center; justify-content:space-between }
.footer-nav{ display:flex; gap:16px }
.footer-nav a{ color:var(--text-2) }
.footer-nav a:hover{ color:#fff }

/* -------- HERO -------- */
.hero{
    position:relative; overflow:hidden; border-radius:28px; padding:56px 36px;
    background:linear-gradient(180deg, rgba(18,24,38,.94), rgba(12,18,30,.96));
    border:var(--line); box-shadow:0 28px 80px rgba(0,0,0,.35);
    isolation:isolate;
}
.hero__content{ max-width:780px; position:relative; z-index:2 }
.hero__actions{ display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 8px }
.hero h1{ margin:0 0 10px; font-size:44px; line-height:1.12; letter-spacing:.2px }
.hero p{ color:#c8d3ea; margin:0 0 12px; font-size:18px }

.hero-bg{ position:absolute; inset:0; z-index:1; pointer-events:none; }
.hero-bg::after{
    content:""; position:absolute; inset:0; opacity:.32;
    background:
            repeating-linear-gradient(90deg, transparent 0 40px, rgba(255,255,255,.06) 40px 41px),
            repeating-linear-gradient(0deg,  transparent 0 40px, rgba(255,255,255,.06) 40px 41px);
    animation: gridShift 30s linear infinite;
}
@keyframes gridShift{ to{ transform:translate3d(-40px,-40px,0) } }

.orb{
    position:absolute; width:560px; height:560px; border-radius:50%;
    filter: blur(36px) saturate(140%); mix-blend-mode:screen; opacity:.75;
}
.orb--a{
    left:-140px; top:-120px;
    background: radial-gradient(closest-side, rgba(143,127,255,.32), transparent 70%);
    animation: orbA 22s ease-in-out infinite;
}
@keyframes orbA{
    0%{ transform:translate3d(0,0,0) scale(1.05) }
    50%{ transform:translate3d(120px,80px,0) scale(1.08) }
    100%{ transform:translate3d(0,0,0) scale(1.05) }
}
.orb--b{
    right:-180px; bottom:-140px;
    background: radial-gradient(closest-side, rgba(73,179,255,.28), transparent 70%);
    animation: orbB 26s ease-in-out infinite;
}
@keyframes orbB{
    0%{ transform:translate3d(0,0,0) scale(1.02) }
    50%{ transform:translate3d(-140px,-90px,0) scale(1.06) }
    100%{ transform:translate3d(0,0,0) scale(1.02) }
}

/* ——— «фонарик» ——— */
.has-spotlight{ position:relative; }
.spotlight{
    --spot-x: 50%;
    --spot-y: 40%;
    position:absolute; inset:0; pointer-events:none;
    background:
            radial-gradient(480px 480px at var(--spot-x) var(--spot-y),
            rgba(180,200,255,.12), transparent 70%),
            radial-gradient(360px 360px at calc(var(--spot-x) + 14%) calc(var(--spot-y) + 10%),
            rgba(100,160,255,.10), transparent 70%);
    filter: blur(18px) saturate(140%);
    mix-blend-mode:screen; opacity:.75;
    transition: background .12s linear;
    z-index:1;
}

/* -------- Buttons -------- */
.btn, .btn:link, .btn:visited,
.form button:not(.input-eye){
    position:relative; display:inline-flex; align-items:center; justify-content:center; gap:8px;
    height:var(--btn-h); padding:0 14px; border-radius:var(--btn-r);
    font-weight:var(--btn-fw); font-size:var(--btn-fs); line-height:1;
    color:#eaf0ff; background:transparent; border:1px solid rgba(255,255,255,.18);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
    transition: border-color var(--tr-f), color var(--tr-f), transform .06s ease, box-shadow var(--tr-f);
    cursor:pointer; text-decoration:none;
    will-change: transform;
}
.btn::before, .form button:not(.input-eye)::before{
    content:""; position:absolute; inset:-8px; border-radius:inherit; z-index:-1;
    background:
            radial-gradient(60% 170% at 30% -40%, rgba(143,127,255,.55), transparent 60%),
            radial-gradient(60% 170% at 70% 140%, rgba(73,179,255,.55), transparent 60%);
    filter: blur(16px); opacity:0; transition:opacity var(--tr-f);
}
.btn:hover, .form button:not(.input-eye):hover{ border-color:rgba(73,179,255,.60) }
.btn:hover::before, .form button:not(.input-eye):hover::before{ opacity:.65 }
.btn:active, .form button:not(.input-eye):active{ transform:translateY(1px) scale(.99) }
.btn:focus-visible, .form button:not(.input-eye):focus-visible{
    outline:none; box-shadow:0 0 0 3px rgba(73,179,255,.25), 0 0 0 10px rgba(73,179,255,.10);
}
.btn--danger{ border-color:rgba(255,106,126,.55); color:#ffe7ec }
.btn--sm{ height:36px; padding:0 12px; border-radius:10px; font-size:14px }

/* -------- Chips / Badges -------- */
.chip{
    display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(255,255,255,.06); color:#dbe7ff; font-weight:700; font-size:12.5px;
}
.chip--ok{ border-color:rgba(62,208,178,.35); background:rgba(62,208,178,.12); color:#d7fff5 }
.chip--warn{ border-color:rgba(255,106,126,.35); background:rgba(255,106,126,.12); color:#ffe7ec }

.badge{ padding:.35rem .6rem; border-radius:999px; font-weight:700; font-size:12px }
.text-bg-success{ background:rgba(62,208,178,.18); color:#cffff6; border:1px solid rgba(62,208,178,.35) }
.text-bg-secondary{ background:rgba(160,170,190,.18); color:#e2e7f3; border:1px solid rgba(160,170,190,.28) }

/* -------- Cards / Grid -------- */
.grid{ display:grid; gap:18px }
.grid--2{ grid-template-columns:repeat(2,1fr) }
.grid--3{ grid-template-columns:repeat(3,1fr) }
@media (max-width:980px){ .grid--3{ grid-template-columns:repeat(2,1fr) } }
@media (max-width:640px){ .grid--2, .grid--3{ grid-template-columns:1fr } }

.card{
    background:linear-gradient(180deg, rgba(16,23,37,.86), rgba(15,22,36,.86));
    border:var(--line); border-radius:var(--r-lg); padding:22px; position:relative; overflow:hidden;
    transition: transform var(--tr-m), border-color var(--tr-f), background var(--tr-f), box-shadow var(--tr-f);
}
.card--hover{
    will-change: transform, box-shadow;
}
.card--hover:hover{
    transform:translateY(-6px);
    box-shadow:0 26px 70px rgba(0,0,0,.35);
}
.page-title, .mt-0{ margin:0 0 14px } .mt-0{ margin-top:0 }

/* --- Карточка авто: медиа --- */
.car__media{ margin:-16px -16px 12px; overflow:hidden; border-top-left-radius:16px; border-top-right-radius:16px; }
.img-skel{ position:relative; width:100%; aspect-ratio:16/9; background:var(--surface-2); border-bottom:var(--line); }
.img-skel.big{ aspect-ratio:16/9; max-height:520px }
.img-skel > img{
    display:block; width:100%; height:100%; object-fit:cover; transform:scale(1.001);
    transition: transform .6s cubic-bezier(.2,.7,.2,1), filter .3s ease;
    will-change: transform;
}
.card--hover:hover .img-skel > img{ transform:scale(1.04) }

/* shimmer-эффект для загрузки/заглушки */
.shimmer::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(110deg, transparent 0 35%, rgba(255,255,255,.08) 45% 55%, transparent 65% 100%);
    transform:translateX(-100%);
    animation: shimmer 2.2s ease-in-out infinite;
    pointer-events:none;
}
@keyframes shimmer{ to{ transform:translateX(100%) } }

/* Блок с ценой и действиями */
.car__price{ display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap }
.price{ font-size:20px; font-weight:800; letter-spacing:.3px }

/* -------- Forms -------- */
label{
    display:block; margin:0 0 6px; color:#b7c3db;
    font-size:12px; font-weight:700; letter-spacing:.32px; text-transform:uppercase;
}
input, .form-control, select, .form-select{
    width:100%; height:48px; padding:12px 14px;
    border-radius:var(--r-md); color:var(--text);
    background:var(--ctrl-bg); border:var(--ctrl-br);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.05);
    transition:border-color var(--tr-f), box-shadow var(--tr-f), background var(--tr-f), transform .08s ease;
}
input:hover, select:hover{ border-color:rgba(73,179,255,.28) }
input:focus, select:focus{ border-color:rgba(73,179,255,.55); box-shadow:var(--ring); outline:none; transform:translateY(-1px) }

select, .form-select{
    appearance:none; -webkit-appearance:none; -moz-appearance:none;
    padding-right:44px;
    background-image:
            url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23cfe2ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
    background-repeat:no-repeat; background-position: right 12px center; background-size:16px 16px;
    color-scheme: dark;
}
select option{ background:#0f1624; color:#eaf0ff }

input[type="checkbox"]{ accent-color:var(--c-cyan); width:18px; height:18px; border-radius:6px }

.form__grid{ display:grid; gap:16px; grid-template-columns:repeat(2,1fr) }
@media (max-width:740px){ .form__grid{ grid-template-columns:1fr } }
.form__actions{ margin-top:14px; display:flex; gap:10px; flex-wrap:wrap }

/* Превью в админке */
.preview .img-skel{ max-width:520px; border-radius:16px; overflow:hidden; border:var(--line); }

/* -------- Tables -------- */
.table-wrap{ overflow:auto }
.table{ width:100%; border-collapse:collapse; font-size:14px }
.table th, .table td{ padding:12px 12px; border-bottom:1px solid rgba(255,255,255,.08) }
.table th{ color:#b6c2d8; font-weight:700; text-align:left; background:rgba(255,255,255,.02) }
.table-hover tbody tr:hover{ background:rgba(255,255,255,.04); transition: background .18s ease }
.table-striped tbody tr:nth-child(odd){ background:rgba(255,255,255,.03) }

/* -------- Auth pages -------- */
.auth-shell{
    position:relative; overflow:hidden; display:grid; place-items:center;
    min-height:calc(100dvh - 160px); padding:8vh 0 14vh;
}
.auth-shell::before{
    content:""; position:absolute; inset:-22%; z-index:0; pointer-events:none;
    background:
            radial-gradient(44% 60% at 22% 28%, rgba(143,127,255,.28), transparent 70%),
            radial-gradient(48% 60% at 80% 72%, rgba(73,179,255,.26), transparent 70%);
    filter: blur(50px) saturate(140%); mix-blend-mode:screen; opacity:.7;
    animation: authFlow 22s ease-in-out infinite alternate;
    -webkit-mask: radial-gradient(closest-side, #000 60%, transparent 100%);
    mask: radial-gradient(closest-side, #000 60%, transparent 100%);
}
@keyframes authFlow{
    0%{ transform:translate3d(-1.5%, -1%, 0) scale(1.02) }
    100%{ transform:translate3d( 1.5%,  1%, 0) scale(1.04) }
}
.auth-card{
    width:min(620px, 94vw);
    background:linear-gradient(180deg, rgba(16,22,36,.94), rgba(14,20,32,.96));
    border:var(--line); border-radius:var(--r-xl);
    padding:32px 28px; position:relative; z-index:1;
    box-shadow:0 28px 70px rgba(0,0,0,.35);
}
.auth-title{ margin:0 0 18px; font-size:32px; font-weight:800 }
.field{ margin-bottom:14px }
.input-wrap{ position:relative }
.field--password input{ padding-right:44px }
.input-eye{
    position:absolute; right:8px; top:50%; transform:translateY(-50%);
    width:32px; height:32px; display:grid; place-items:center;
    border:0; background:transparent; color:#c6d1ea; cursor:pointer; border-radius:8px;
    transition: background var(--tr-f);
}
.input-eye:hover{ background:rgba(255,255,255,.08) }
.form--auth .form__grid{ grid-template-columns:1fr }

.auth-shell .spotlight{ --spot-x: 60%; --spot-y: 40%; opacity:.72; }

/* -------- Light theme -------- */
.theme-light{
    --bg:#f8fbff; --bg-2:#eef4ff;
    --surface:#ffffff; --surface-2:#ffffff;
    --line:1px solid rgba(27,36,48,.12);
    --text:#0f1828; --text-2:#556480;

    --c-cyan:#2a9dff; --c-violet:#6b63ff; --c-mint:#19b79c;
    --danger:#e24f66;

    --ctrl-bg:linear-gradient(180deg,#ffffff,#f6f8ff);
    --ctrl-br:1px solid rgba(27,36,48,.14);

    color-scheme: light;
}
.theme-light .site-header, .theme-light .site-footer{
    background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.80));
    border-color:rgba(27,36,48,.12);
}
.theme-light a{ color:var(--c-cyan) }
.theme-light .nav > a.is-active{ background:rgba(27,36,48,.08); color:var(--text) }

.theme-light .hero{
    background:linear-gradient(180deg, #ffffff, #f3f6ff);
    border:1px solid rgba(27,36,48,.12);
}
.theme-light .hero-bg::after{ opacity:.18 }
.theme-light .orb--a{ background: radial-gradient(closest-side, rgba(107,99,255,.22), transparent 72%) }
.theme-light .orb--b{ background: radial-gradient(closest-side, rgba(42,157,255,.20), transparent 72%) }

.theme-light .btn, .theme-light .form button:not(.input-eye){
    color:#0f1828; border:1px solid rgba(27,36,48,.22);
}
.theme-light .btn:hover, .theme-light .form button:not(.input-eye):hover{
    border-color:rgba(42,157,255,.55);
}
.theme-light select option{ background:#fff; color:#0f1828 }

/* -------- Reduced motion -------- */
@media (prefers-reduced-motion: reduce){
    .dropdown__menu, .card, .hero-bg::after, .orb, .auth-shell::before, .shimmer::after{ animation:none; transition:none }
}
