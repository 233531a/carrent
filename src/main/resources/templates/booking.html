<th:block th:with="title='Оформление брони', active='booking'"
          th:replace="~{_fragments/layout :: layout(${title}, ${active}, ~{::content})}">
    <th:block th:fragment="content">

        <h2 class="page-title">Оформление бронирования</h2>
        <p class="alert alert--warn" th:if="${error}" th:text="${error}">Ошибка</p>

        <form class="card form" th:action="@{/booking}" method="post">
            <div class="form__grid">
                <div>
                    <label>Автомобиль</label>

                    <input th:if="${car != null}" type="text" th:value="${car.make + ' ' + car.model}" readonly>
                    <select th:if="${car == null}" name="carId" required>
                        <option value="" disabled selected>Выберите авто</option>
                        <option th:each="c : ${cars}" th:value="${c.id}" th:text="${c.make + ' ' + c.model}">car</option>
                    </select>
                    <input th:if="${car != null}" type="hidden" name="carId" th:value="${car.id}">
                </div>

                <div>
                    <label>Дата начала</label>
                    <input type="date" name="startDate" required>
                </div>

                <div>
                    <label>Дата окончания</label>
                    <input type="date" name="endDate" required>
                </div>
            </div>

            <div class="form__actions">
                <button class="btn" type="submit">Забронировать</button>
                <a class="btn btn--light" th:href="@{/cars}">Назад к каталогу</a>
            </div>
        </form>

    </th:block>
</th:block>
