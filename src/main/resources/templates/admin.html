<th:block th:with="title='–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ', active='admin'"
          th:replace="~{_fragments/layout :: layout(${title}, ${active}, ~{::content})}">
    <th:block th:fragment="content" sec:authorize="hasRole('ADMIN')">

        <div class="page-head">
            <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>

            <div class="actions" style="display:flex; gap:.5rem; flex-wrap:wrap">
                <a class="btn" th:href="@{/admin/cars}">üöó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω–∞–º–∏</a>
                <a class="btn btn--light" th:href="@{/admin/users}">üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</a>
            </div>

            <div class="chips" style="margin-top:.75rem">
                <span class="chip">–ê–≤—Ç–æ: <b th:text="${carsCount}">0</b></span>
                <span class="chip">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: <b th:text="${usersCount}">0</b></span>
                <span class="chip">–ë—Ä–æ–Ω–∏: <b th:text="${rentalsCount}">0</b></span>
            </div>
        </div>

        <div class="grid-2">
            <div class="card">
                <div style="display:flex; justify-content:space-between; align-items:center; gap:1rem;">
                    <h3>–ê–≤—Ç–æ–º–æ–±–∏–ª–∏</h3>
                    <a class="btn btn--light" th:href="@{/admin/cars}">–ü–µ—Ä–µ–π—Ç–∏ ‚Üí</a>
                </div>
                <table class="table">
                    <thead><tr><th>#</th><th>–ú–æ–¥–µ–ª—å</th><th>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</th><th>‚ÇΩ/–¥–µ–Ω—å</th></tr></thead>
                    <tbody>
                    <tr th:each="c : ${cars}">
                        <td th:text="${c.id}">1</td>
                        <td th:text="${c.make + ' ' + c.model}">Model</td>
                        <td th:text="${c.available ? '–î–∞' : '–ù–µ—Ç'}">–î–∞</td>
                        <td th:text="${#numbers.formatInteger(c.dailyPrice, 0)}">2500</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <div style="display:flex; justify-content:space-between; align-items:center; gap:1rem;">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                    <a class="btn btn--light" th:href="@{/manager}">–ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º ‚Üí</a>
                </div>
                <table class="table">
                    <thead><tr><th>#</th><th>–ö–ª–∏–µ–Ω—Ç</th><th>–ê–≤—Ç–æ</th><th>–î–∞—Ç—ã</th><th>–°—Ç–∞—Ç—É—Å</th></tr></thead>
                    <tbody>
                    <tr th:each="r : ${recentRentals}">
                        <td th:text="${r.id}">1</td>
                        <td th:text="${r.customer.fullName}">–ò–º—è</td>
                        <td th:text="${r.car.make + ' ' + r.car.model}">–ê–≤—Ç–æ</td>
                        <td th:text="${#temporals.format(r.startDate,'dd.MM')} + '‚Äì' + ${#temporals.format(r.endDate,'dd.MM')}">12‚Äì14</td>
                        <td><span class="badge" th:text="${r.status}">PENDING</span></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </th:block>
</th:block>
