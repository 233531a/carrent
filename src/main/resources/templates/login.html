<th:block th:with="title='–í—Ö–æ–¥', active='login'"
          th:replace="~{_fragments/layout :: layout(${title}, ${active}, ~{::content})}">
    <th:block th:fragment="content">
        <div class="auth-card card">
            <h2 class="page-title">–í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>

            <p class="alert alert--warn" th:if="${param.error}">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å.</p>
            <p class="alert" th:if="${param.logout}">–í—ã –≤—ã—à–ª–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞.</p>

            <form th:action="@{/login}" method="post" class="form form--auth">
                <div class="form__grid">
                    <div>
                        <label>–õ–æ–≥–∏–Ω</label>
                        <input type="text" name="username" placeholder="your.name" autofocus required />
                    </div>
                    <div>
                        <label>–ü–∞—Ä–æ–ª—å</label>
                        <div class="input-with-action">
                            <input id="loginPassword" type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
                            <button type="button" class="input-action" onclick="togglePwd('loginPassword', this)" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å">üëÅ</button>
                        </div>
                    </div>
                </div>

                <div class="form__actions">
                    <button class="btn" type="submit">–í–æ–π—Ç–∏</button>
                    <a class="btn btn--light" th:href="@{/register}">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a>
                </div>
            </form>
        </div>

        <script>
            function togglePwd(id, btn){
                const i = document.getElementById(id);
                if(!i) return;
                const t = i.getAttribute('type') === 'password' ? 'text' : 'password';
                i.setAttribute('type', t);
                btn.setAttribute('aria-label', t === 'password' ? '–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å' : '–°–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å');
            }
        </script>
    </th:block>
</th:block>
